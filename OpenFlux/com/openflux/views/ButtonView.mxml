<?xml version="1.0" encoding="utf-8"?>
<flux:FluxView 
	xmlns:mx="http://www.adobe.com/2006/mxml" 
	xmlns:flux="com.openflux.core.*" 
	xmlns:degrafa="http://www.degrafa.com/2008" 
	xmlns:filters="flash.filters.*" 
	buttonMode="true" mouseChildren="false"
	currentState="{ViewStateUtil.resolveButtonState(data.buttonState, false, data.enabled)}" >
	<mx:Script>
		<![CDATA[
			
			import com.openflux.constants.ViewStates;
			import com.openflux.utils.ViewStateUtil;
			[Bindable] public var offset:Number = 0;
			/*
			private function whatData(data:Object):String {
				var w:Object = data.label;
				return "huh?";
			}*/
			
		]]>
	</mx:Script>
	<flux:states>
		<mx:State name="{ViewStates.UP}" />
		<mx:State name="{ViewStates.OVER}">
			<mx:SetProperty target="{color1}" name="color" value="#FFFFFF" />
			<mx:SetProperty target="{color2}" name="color" value="#FFFFFF" />
		</mx:State>
		<mx:State name="{ViewStates.DOWN}">
			<mx:SetProperty target="{this}" name="offset" value="2" />
			<mx:SetProperty target="{color1}" name="color" value="#009DFF" />
			<mx:SetProperty target="{color2}" name="color" value="#009DFF" />
		</mx:State>
	</flux:states>
	
	<degrafa:LinearGradientStroke id="stroke" angle="90" weight="2" caps="round" joints="round" pixelHinting="true">
		<degrafa:GradientStop color="#B7BABC" ratio="0" />
		<degrafa:GradientStop color="#5B5D5E" ratio="1" />
	</degrafa:LinearGradientStroke>
	
	<degrafa:LinearGradientFill id="fill" angle="90">
		<degrafa:GradientStop id="color1" color="#FFFFFF" alpha="0.6" />
		<degrafa:GradientStop id="color2" color="#CCCCCC" alpha="0.4" />
	</degrafa:LinearGradientFill>
	
	<degrafa:LinearGradientFill id="highlight" angle="90">
		<degrafa:GradientStop color="#FFFFFF" alpha="0.3" />
		<degrafa:GradientStop color="#FFFFFF" alpha="0.0" />
	</degrafa:LinearGradientFill>
	
	<degrafa:Surface id="surface" x="{offset}" y="{offset}" width="{width-2}" height="{height-2}">
		<degrafa:GeometryGroup>
			<degrafa:RoundedRectangle width="{width-2}" height="{height-2}" fill="{fill}" stroke="{stroke}" cornerRadius="4" />
			<degrafa:RoundedRectangle x="1" y="1" width="{width-4}" height="{(height-2)/2}" fill="{highlight}" cornerRadius="4" />
		</degrafa:GeometryGroup>
		<degrafa:filters>
			<filters:DropShadowFilter distance="{2-offset}" />
		</degrafa:filters>
	</degrafa:Surface>
	
	<mx:Label text="{data.hasOwnProperty('label') ? data.label : data.data.label}" color="#CCCCCC" alpha="0.6" horizontalCenter="{offset-2}" verticalCenter="{offset+1}" />
	<mx:Label text="{data.hasOwnProperty('label') ? data.label : data.data.label}" color="#0B333C" horizontalCenter="{offset}" verticalCenter="{offset}" />
	
</flux:FluxView>